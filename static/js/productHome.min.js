$(function () {
    function e() {
        !a && $("#l_myVideoBox").length && $(document).scrollTop() + window.innerHeight / 2 > $("#l_myVideoBox").offset().top && (document.getElementById("l_video").play(), a = !0)
    }

    if ($("#slider_atlas,#slider_atlas2").click(function () {
        $(".toast-atlas").show()
    }), $(".atlas-box .close").click(function () {
        $(".toast-atlas").hide()
    }), $(".video-illustrate-box .list .video").each(function () {
        $(this).click(function () {
            var e = $(this).attr("vpath"), t = $(this).attr("illustrateipath");
            $(".toast-cover").html('<div class="toast-video-illustrate"><video id="illustrateVideo" width="720" height="406" loop poster=\'' + e + "' src='" + t + '\' preload="auto" controls="controls" autoplay="autoplay" controlslist="nodownload"></video><span onClick="videoClose()" class="close">x</span></div>'), $(".toast-cover").show()
        })
    }), $(".banner-slider .swiper-slide").length > 1) new Swiper(".banner-slider .swiper-container", {
        direction: "horizontal",
        effect: "fade",
        nextButton: ".banner-slider .swiper-button-next",
        prevButton: ".banner-slider .swiper-button-prev",
        observer: !0,
        observeParents: !0,
        centeredSlides: !0,
        updateOnImagesReady: !0,
        loop: !0,
        lazyLoading: !0,
        speed: 1e3,
        pagination: ".slider-category-tab .swiper-pagination",
        paginationClickable: !0,
        fade: {crossFade: !0},
        autoplayDisableOnInteraction: !1,
        paginationBulletRender: function (e, t, a) {
            return '<span class="text ' + a + ' ">' + bannerTextlList[t] + "</span>"
        },
        onSlideChangeStart: function (e) {
            $(".banner-slider .picture-message").removeClass("active")
        },
        onSlideChangeEnd: function (e) {
            $(".banner-slider .picture-message").eq($(".banner-slider .swiper-slide-active").attr("data-swiper-slide-index")).addClass("active")
        }
    }); else $(".banner-slider .picture-message").eq(0).addClass("active");
    var t = new Swiper("#l_popUp_atlas .atlas-box .swiper-container", {
        direction: "horizontal",
        effect: "fade",
        prevButton: "#l_popUp_atlas .atlas-box .swiper-button-prev",
        nextButton: "#l_popUp_atlas .atlas-box .swiper-button-next",
        loop: !0,
        grabCursor: !0,
        lazyLoading: !0,
        paginationClickable: !0,
        fade: {crossFade: !0},
        autoplayDisableOnInteraction: !1,
        updateOnImagesReady: !0,
        observer: !0,
        observeParents: !0
    });
    $("#l_popUp_atlas .atlas-box .navbar li").on("click", function () {
        $(this).addClass("current").siblings().removeClass("current"), $("#l_popUp_atlas .swiper-wrapper").html($("#l_popUp_atlas_swiper li").eq($(this).attr("data-index")).html()), t.init()
    });
    var a = !1;
    e(), $(document).scroll(e), $("#l_myVideoBox .video-title li").on("click", function () {
        $(this).addClass("current").siblings().removeClass("current"), document.getElementById("l_video").src = $(this).attr("data-video"), document.getElementById("l_video").play()
    }), $(".video-illustrate-box .list > li").length > 4 && ($(".video-illustrate-box").addClass("active"), $(".video-illustrate-box .more-base").addClass("active")), $(".video-illustrate-box .more-base").on("click", function () {
        $(".video-illustrate-box").hasClass("active") ? ($(".video-illustrate-box").removeClass("active"), $(this).html('收起<em class="icon open-icon"></em>')) : ($(".video-illustrate-box").addClass("active"), $(this).html('查看更多道具<em class="icon"></em>'))
    }), $(".btn-further-understanding").on("click", function () {
        $(".pop-up-iframe").show().addClass("active"), $(".top-header-bar").css("box-shadow", "0 5px 10px rgba(153,153,153,0.16)"), $(".pop-up-iframe-cont").html('<iframe src="' + $(this).attr("data-href") + '" frameborder="0"></iframe>'), body_roll_status(!0), window.$page_info.body_roll_stop = !0
    }), $(".pop-up-iframe .series-close-btn").on("click", function () {
        window.$page_info.body_roll_stop = !1, body_roll_status(!1), $(".top-header-bar").css("box-shadow", "none"), $(".pop-up-iframe").removeClass("active").addClass("down").hide()
    })
});