{% extends 'base.html' %}
{% load staticfiles %}
{% block function %}
    <!-- 爆款产品详情首页 -->
    <link rel="stylesheet" href="/static/css/product.css">
    <link rel="stylesheet" href="/static/css/themedetail.css" type="text/css">
    <!-- 爆款产品详情首页 -->
    <div class="pc-container" band-sensors="sensors-div-14">
        <div class="inner-wrap clearfix" band-sensors="sensors-div-15">
            <div class="product-shell" band-sensors="sensors-div-16">
                <!-- video -->
                <div class="video-con" band-sensors="sensors-div-17">
                    <video id="l_video" src="{{ wedding_sku.video }}" muted="true"
                           controls="" controlslist="nodownload" loop=""></video>
                </div>
                <!--区域类型,1主舞台,2仪式通道,3签到台,4迎宾区,5灯光-->
                {% for detail in details %}
                    <div class="picture js-transform" band-sensors="sensors-div-18">
                        <img class=""
                             data-original="https://qnvideo.mijwed.com/product/26725/vYjlV4ZLrZfNkjH1599531307475.jpg"
                             alt="石家庄市婚礼策划方案:简单爱2" band-sensors="sensors-img-19"
                             src="{{ detail.image.url }}" style="transform: translateY(0px);">
                    </div>

                    <div class="alr-caption-box" band-sensors="sensors-div-20">
                        <span class="caption transmit animatioans animated fadeInUp" data-animation="fadeInUp"
                              band-sensors="sensors-span-21">{{ detail.name }}</span>
                        <span class="description transmit animatioans animated animation-delay-1 fadeInUp"
                              data-animation="fadeInUp" band-sensors="sensors-span-22">{{ detail.desc }}</span>
                    </div>
                {% endfor %}

                <div class="mess-area" band-sensors="sensors-div-50">
                    <img src="/static/image/theme-bottom-bg.png" alt="" band-sensors="sensors-img-51">
                    <div class="form" band-sensors="sensors-div-52">
                        <input type="text" placeholder="姓名" class="name bottom-name">
                        <input type="text" placeholder="手机号" class="phone bottom-phone" maxlength="11">
                        <div class="look-price-btn" band-sensors="sensors-div-53">立即查看报价</div>
                    </div>
                </div>
            </div>
            <div class="right-mess-nav" band-sensors="sensors-div-54">
                <p class="title casetitle">{{ wedding_sku.name }}</p>
                <p class="sign"><span band-sensors="sensors-span-55">到店礼</span>到店即赠2000元婚嫁大礼包</p>
                <p class="sign"><span band-sensors="sensors-span-56">订单礼</span></p>
                <p class="yuyue-btn">预约到店</p>
                <p class="discount-btn">领取优惠</p>
                <img src="{{ wedding_sku.designer.image.url }}" alt="" class="touxiang"
                     band-sensors="sensors-img-57">
                <p class="nickname">{{ wedding_sku.designer.staffname }}&nbsp;&nbsp;|&nbsp;&nbsp;{{ wedding_sku.designer.nickname }}</p>
                <p class="recomend-reason">推荐理由</p>
                <div class="recoment-content" band-sensors="sensors-div-59">
                    {{ wedding_sku.reason }}
                </div>
                <p class="inspiration">创作灵感</p>
                <div class="inspiration-content" band-sensors="sensors-div-63">
                    {{ wedding_sku.inspiration }}
                </div>
                <p class="main-title-case">主题案例</p>
                <ul>
                </ul>
            </div>

        </div>
    </div>
    <div class="popup" id="popup1" band-sensors="sensors-div-64">
        <div class="main" band-sensors="sensors-div-65">
            <div class="close-btn" band-sensors="sensors-div-66">
                <img src="/static/image/fork.png" alt="" band-sensors="sensors-img-67">
            </div>
            <img src="/static/image/yuyue-bg1.png" alt="" class="pop-bg" band-sensors="sensors-img-68">
            <div class="content" band-sensors="sensors-div-69">
                <input type="text" placeholder="请输入您的姓名" class="name">
                <span class="namespan" band-sensors="sensors-span-70">姓名</span>
                <input type="text" placeholder="请输入您的手机号码" maxlength="11" class="phone">
                <span class="phonespan" band-sensors="sensors-span-71">手机</span>
                <div class="pop-btn" data-note="详情页（主题及案例）-预约到店" data-mess="预约成功" band-sensors="sensors-div-72">立即预约
                </div>
            </div>
        </div>
    </div>
    <div class="popup" id="popup2" band-sensors="sensors-div-73">
        <div class="main" band-sensors="sensors-div-74">
            <div class="close-btn" band-sensors="sensors-div-75">
                <img src="/static/image/fork.png" alt="" band-sensors="sensors-img-76">
            </div>
            <img src="/static/image/yuyue-bg2.png" alt="" class="pop-bg" band-sensors="sensors-img-77">
            <div class="content" band-sensors="sensors-div-78">
                <input type="text" placeholder="请输入您的姓名" class="name">
                <span class="namespan" band-sensors="sensors-span-79">姓名</span>
                <input type="text" placeholder="请输入您的手机号码" maxlength="11" class="phone">
                <span class="phonespan" band-sensors="sensors-span-80">手机</span>
                <div class="pop-btn" data-note="详情页（主题及案例）-领取优惠" data-mess="领取成功" band-sensors="sensors-div-81">
                    领取2000元婚嫁大礼包
                </div>
            </div>
        </div>
    </div>
{% endblock function %}
{% block texiao %}
    <script type="text/javascript" src="../static/js/jquery-1.12.4.min.js"></script>
    <script src="../static/js/common20200410.min.js"></script>
    <script src="../static/js/sensorsTrack.min.js"></script>
    <script src="../static/js/jquery.lazyload.min.js"></script>
    <script src="../static/js/swiper-3.4.2.js"></script>
    <script src="../static/js/public.js"></script>
    <script src="../static/js/public.js(1)"></script>
    <script src="../static/js/myProgress.min.js"></script>
    <script>
        function videoScroll() {
            if ($("#l_video").length) {
                document.getElementById("l_video").play();
            }
        }

        videoScroll();

        $('.close-btn').click(function () {
            $('.popup').hide();
        })
        $('.yuyue-btn').click(function () {
            $('#popup1').show();
        })
        $('.discount-btn').click(function () {
            $('#popup2').show();
        })
        var casetitle = $('.casetitle').html();
        var userMobile = /^1\d{10}$/;
        $('.pop-btn').click(function () {
            var name = $(this).siblings('.name').val();
            var tel = $(this).siblings('.phone').val();
            var note = $(this).attr('data-note');
            var mess = $(this).attr('data-mess');
            if (name == '') {
                msg('请输入您的姓名');
                return false;
            } else if (tel == '') {
                msg('请输入您的手机号码')
                return false
            } else if (!userMobile.test(tel)) {
                msg('手机号码格式不正确')
                return false
            } else {
                var data = {
                    mobile: tel,
                    from_type: 'pc',
                    name: name,
                    plate_code: '' || 2,
                    note: 'pc-sem大搜-' + note + '-主题名称:' + casetitle + '-姓名:' + name + '-手机号:' + tel
                }
                shopAppointment(data, '', function (res) {
                    if (res.error == 0) {
                        msg(mess)
                    } else {
                        msg(res.message)
                    }
                })
            }
        })
        $('.look-price-btn').click(function () {
            var name = $('.bottom-name').val();
            var phone = $('.bottom-phone').val();
            if (name == '') {
                msg('请输入您的姓名');
                return false;
            } else if (phone == '') {
                msg('请输入您的手机号码')
                return false
            } else if (!userMobile.test(phone)) {
                msg('手机号码格式不正确')
                return false
            } else {
                var data = {
                    mobile: phone,
                    from_type: 'pc',
                    name: name,
                    plate_code: '' || 2,
                    note: 'pc-sem大搜-详情页（主题及案例）-查看报价-主题名称:' + casetitle + '-姓名:' + name + '-手机号:' + phone
                }
                shopAppointment(data, '', function (res) {
                    msg(res.message)
                })
            }
        })

    </script>
    <script src="/static/js/productPublic.min.js"></script>
    <script src="/static/js/productHome.min.js"></script>
{% endblock texiao %}